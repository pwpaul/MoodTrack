<div class="mt-4">
    <canvas id="advancedChart" height="100"></canvas>
</div>

<script>
const ctx = document.getElementById('advancedChart').getContext('2d');
if (window.chartInstance) {
    window.chartInstance.destroy();
}

window.chartInstance = new Chart(ctx, {
    type: 'line',
    data: {
        datasets: {{ chart_data|safe }},
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        parsing: false,
        interaction: {
            mode: 'nearest',
            intersect: false,
        },
        plugins: {
            legend: {
                display: true,
                position: 'bottom',
            },
            tooltip: {
                mode: 'index',
                intersect: false,
            }
        },
        scales: {
            x: {
                type: 'time',
                time: {
                    unit: 'day',
                    tooltipFormat: 'MMM d',
                },
                title: {
                    display: true,
                    text: 'Date',
                },
            },
            y: {
                beginAtZero: true,
                suggestedMax: 10,
                title: {
                    display: true,
                    text: 'Answer Value',
                },
            }
        }
    }
});
</script>
